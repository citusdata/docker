{
  "version": "1.0",
  "engine": "linux|Transformer|1.37.6|26a36c88a94c677efd734e874ba081dabb84a224|2022-04-23_06:03:56AM",
  "containerized": false,
  "host_distro": {
    "name": "Ubuntu",
    "version": "20.04",
    "display_name": "Ubuntu 20.04.4 LTS"
  },
  "type": "build",
  "state": "done",
  "target_reference": "docker-slim-tmp-fat-image.61351.20220707133812",
  "system": {
    "type": "Linux",
    "release": "5.4.0-121-generic",
    "distro": {
      "name": "Debian GNU/Linux",
      "version": "11",
      "display_name": "Debian GNU/Linux 11 (bullseye)"
    }
  },
  "source_image": {
    "identity": {
      "id": "sha256:7520748d6e745d6d73ab62c461c945054ed79224fb811afccbf6b796c7642c9e",
      "tags": [
        "latest"
      ],
      "names": [
        "docker-slim-tmp-fat-image.61351.20220707133812:latest"
      ]
    },
    "size": 388835567,
    "size_human": "389 MB",
    "create_time": "2022-07-07T13:38:48Z",
    "docker_version": "20.10.17",
    "architecture": "amd64",
    "exposed_ports": [
      "5432/tcp"
    ],
    "os": "linux",
    "volumes": [
      "/var/lib/postgresql/data"
    ],
    "labels": {
      "maintainer": "Citus Data https://citusdata.com",
      "org.label-schema.description": "Scalable PostgreSQL for multi-tenant and real-time workloads",
      "org.label-schema.name": "Citus",
      "org.label-schema.schema-version": "1.0",
      "org.label-schema.url": "https://www.citusdata.com",
      "org.label-schema.vcs-url": "https://github.com/citusdata/citus",
      "org.label-schema.vendor": "Citus Data, Inc.",
      "org.label-schema.version": "11.0.3"
    },
    "env_vars": [
      "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/14/bin",
      "GOSU_VERSION=1.14",
      "LANG=en_US.utf8",
      "PG_MAJOR=14",
      "PG_VERSION=14.4-1.pgdg110+1",
      "PGDATA=/var/lib/postgresql/data",
      "CITUS_VERSION=11.0.3.citus-1"
    ],
    "container_entry": {
      "exe_path": ""
    }
  },
  "minified_image_size": 32752346,
  "minified_image_size_human": "33 MB",
  "minified_image": "docker-slim-tmp-fat-image.61351.20220707133812.slim",
  "minified_image_has_data": true,
  "minified_by": 11.87199130712652,
  "artifact_location": "/tmp/docker-slim-state/.docker-slim-state/images/7520748d6e745d6d73ab62c461c945054ed79224fb811afccbf6b796c7642c9e/artifacts",
  "container_report_name": "creport.json",
  "seccomp_profile_name": "docker-slim-tmp-fat-image.61351.20220707133812-seccomp.json",
  "apparmor_profile_name": "docker-slim-tmp-fat-image.61351.20220707133812-apparmor-profile",
  "image_stack": [
    {
      "is_top_image": false,
      "id": "sha256:b2261d3c6ce0b23bed32e7567a92646b880de73d802550b1275baa0997aa34d0",
      "full_name": "postgres:14.4",
      "repo_name": "postgres",
      "version_tag": "14.4",
      "raw_tags": [
        "postgres:14.4"
      ],
      "create_time": "2022-06-23T14:27:29Z",
      "new_size": 376135171,
      "new_size_human": "376 MB",
      "instructions": [
        {
          "type": "ADD",
          "time": "2022-06-23T00:20:27Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 80411703,
          "size_human": "80 MB",
          "params": "file:8adbbab04d6f84cd83b5f4205b89b0acb7ecbf27a1bb2dc181d0a629479039fe in /",
          "command_snippet": "ADD file:8adbbab04d6f84cd83b5f4205b89b0acb7e...",
          "command_all": "ADD file:8adbbab04d6f84cd83b5f4205b89b0acb7ecbf27a1bb2dc181d0a629479039fe /",
          "target": "/",
          "source_type": "file"
        },
        {
          "type": "CMD",
          "time": "2022-06-23T00:20:27Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"bash\"]\n",
          "command_snippet": "CMD [\"bash\"]\n",
          "command_all": "CMD [\"bash\"]\n"
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:14Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 9960435,
          "size_human": "10 MB",
          "command_snippet": "RUN set -ex; \tif ! command -v gpg > /dev/nul...",
          "command_all": "RUN set -ex; \tif ! command -v gpg > /dev/null; then \t\tapt-get update; \t\tapt-get install -y --no-install-recommends \t\t\tgnupg \t\t\tdirmngr \t\t; \t\trm -rf /var/lib/apt/lists/*; \tfi",
          "system_commands": [
            "set -ex",
            "if ! command -v gpg > /dev/null",
            "then apt-get update",
            "apt-get install -y --no-install-recommends gnupg dirmngr",
            "rm -rf /var/lib/apt/lists/*",
            "fi"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:14Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 328588,
          "size_human": "329 kB",
          "command_snippet": "RUN set -eux; \tgroupadd -r postgres --gid=99...",
          "command_all": "RUN set -eux; \tgroupadd -r postgres --gid=999; \tuseradd -r -g postgres --uid=999 --home-dir=/var/lib/postgresql --shell=/bin/bash postgres; \tmkdir -p /var/lib/postgresql; \tchown -R postgres:postgres /var/lib/postgresql",
          "system_commands": [
            "set -eux",
            "groupadd -r postgres --gid=999",
            "useradd -r -g postgres --uid=999 --home-dir=/var/lib/postgresql --shell=/bin/bash postgres",
            "mkdir -p /var/lib/postgresql",
            "chown -R postgres:postgres /var/lib/postgresql"
          ]
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:26:14Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "GOSU_VERSION=1.14",
          "command_snippet": "ENV GOSU_VERSION=1.14",
          "command_all": "ENV GOSU_VERSION=1.14"
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:22Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 4160132,
          "size_human": "4.2 MB",
          "command_snippet": "RUN set -eux; \tsavedAptMark=\"$(apt-mark show...",
          "command_all": "RUN set -eux; \tsavedAptMark=\"$(apt-mark showmanual)\"; \tapt-get update; \tapt-get install -y --no-install-recommends ca-certificates wget; \trm -rf /var/lib/apt/lists/*; \tdpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"; \twget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"; \twget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4; \tgpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu; \tgpgconf --kill all; \trm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc; \tapt-mark auto '.*' > /dev/null; \t[ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark > /dev/null; \tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \tchmod +x /usr/local/bin/gosu; \tgosu --version; \tgosu nobody true",
          "system_commands": [
            "set -eux",
            "savedAptMark=\"$(apt-mark showmanual)\"",
            "apt-get update",
            "apt-get install -y --no-install-recommends ca-certificates wget",
            "rm -rf /var/lib/apt/lists/*",
            "dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"",
            "wget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"",
            "wget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"",
            "export GNUPGHOME=\"$(mktemp -d)\"",
            "gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4",
            "gpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu",
            "gpgconf --kill all",
            "rm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc",
            "apt-mark auto '.*' > /dev/null",
            "[ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark > /dev/null",
            "apt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false",
            "chmod +x /usr/local/bin/gosu",
            "gosu --version",
            "gosu nobody true"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:28Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 25100046,
          "size_human": "25 MB",
          "command_snippet": "RUN set -eux; \tif [ -f /etc/dpkg/dpkg.cfg.d/...",
          "command_all": "RUN set -eux; \tif [ -f /etc/dpkg/dpkg.cfg.d/docker ]; then \t\tgrep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \t\tsed -ri '/\\/usr\\/share\\/locale/d' /etc/dpkg/dpkg.cfg.d/docker; \t\t! grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \tfi; \tapt-get update; apt-get install -y --no-install-recommends locales; rm -rf /var/lib/apt/lists/*; \tlocaledef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8",
          "system_commands": [
            "set -eux",
            "if [ -f /etc/dpkg/dpkg.cfg.d/docker ]",
            "then grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker",
            "sed -ri '//usr/share/locale/d' /etc/dpkg/dpkg.cfg.d/docker",
            "! grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker",
            "fi",
            "apt-get update",
            "apt-get install -y --no-install-recommends locales",
            "rm -rf /var/lib/apt/lists/*",
            "localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8"
          ]
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:26:28Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LANG=en_US.utf8",
          "command_snippet": "ENV LANG=en_US.utf8",
          "command_all": "ENV LANG=en_US.utf8"
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:32Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 3467936,
          "size_human": "3.5 MB",
          "command_snippet": "RUN set -eux; \tapt-get update; \tapt-get inst...",
          "command_all": "RUN set -eux; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tlibnss-wrapper \t\txz-utils \t\tzstd \t; \trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "set -eux",
            "apt-get update",
            "apt-get install -y --no-install-recommends libnss-wrapper xz-utils zstd",
            "rm -rf /var/lib/apt/lists/*"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:33Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN mkdir /docker-entrypoint-initdb.d",
          "command_all": "RUN mkdir /docker-entrypoint-initdb.d",
          "system_commands": [
            "mkdir /docker-entrypoint-initdb.d"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:26:34Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 3979,
          "size_human": "4.0 kB",
          "command_snippet": "RUN set -ex; \tkey='B97B0AFCAA1A47F044F244A07...",
          "command_all": "RUN set -ex; \tkey='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'; \texport GNUPGHOME=\"$(mktemp -d)\"; \tmkdir -p /usr/local/share/keyrings/; \tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \tgpg --batch --export --armor \"$key\" > /usr/local/share/keyrings/postgres.gpg.asc; \tcommand -v gpgconf > /dev/null && \\\n\tgpgconf --kill all; \trm -rf \"$GNUPGHOME\"",
          "system_commands": [
            "set -ex; key='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'; export GNUPGHOME=\"$(mktemp -d)\"; mkdir -p /usr/local/share/keyrings/; gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; gpg --batch --export --armor \"$key\" > /usr/local/share/keyrings/postgres.gpg.asc; command -v gpgconf > /dev/null",
            "gpgconf --kill all; rm -rf \"$GNUPGHOME\""
          ]
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:27:08Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PG_MAJOR=14",
          "command_snippet": "ENV PG_MAJOR=14",
          "command_all": "ENV PG_MAJOR=14"
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:27:08Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/14/bin",
          "command_snippet": "ENV PATH=/usr/local/sbin:/usr/local/bin:/usr...",
          "command_all": "ENV PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/14/bin"
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:27:08Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PG_VERSION=14.4-1.pgdg110+1",
          "command_snippet": "ENV PG_VERSION=14.4-1.pgdg110+1",
          "command_all": "ENV PG_VERSION=14.4-1.pgdg110+1"
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:27:26Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 252632168,
          "size_human": "253 MB",
          "command_snippet": "RUN set -ex; \t\texport PYTHONDONTWRITEBYTECOD...",
          "command_all": "RUN set -ex; \t\texport PYTHONDONTWRITEBYTECODE=1; \t\tdpkgArch=\"$(dpkg --print-architecture)\"; \taptRepo=\"[ signed-by=/usr/local/share/keyrings/postgres.gpg.asc ] http://apt.postgresql.org/pub/repos/apt/ bullseye-pgdg main $PG_MAJOR\"; \tcase \"$dpkgArch\" in \t\tamd64 | arm64 | ppc64el) \t\t\techo \"deb $aptRepo\" > /etc/apt/sources.list.d/pgdg.list; \t\t\tapt-get update; \t\t\t;; \t\t*) \t\t\techo \"deb-src $aptRepo\" > /etc/apt/sources.list.d/pgdg.list; \t\t\t\t\t\tsavedAptMark=\"$(apt-mark showmanual)\"; \t\t\t\t\t\ttempDir=\"$(mktemp -d)\"; \t\t\tcd \"$tempDir\"; \t\t\t\t\t\tapt-get update; \t\t\tapt-get install -y --no-install-recommends dpkg-dev; \t\t\techo \"deb [ trusted=yes ] file://$tempDir ./\" > /etc/apt/sources.list.d/temp.list; \t\t\t_update_repo() { \t\t\t\tdpkg-scanpackages . > Packages; \t\t\t\tapt-get -o Acquire::GzipIndexes=false update; \t\t\t}; \t\t\t_update_repo; \t\t\t\t\t\tnproc=\"$(nproc)\"; \t\t\texport DEB_BUILD_OPTIONS=\"nocheck parallel=$nproc\"; \t\t\tapt-get build-dep -y postgresql-common pgdg-keyring; \t\t\tapt-get source --compile postgresql-common pgdg-keyring; \t\t\t_update_repo; \t\t\tapt-get build-dep -y \"postgresql-$PG_MAJOR=$PG_VERSION\"; \t\t\tapt-get source --compile \"postgresql-$PG_MAJOR=$PG_VERSION\"; \t\t\t\t\t\t\t\t\tapt-mark showmanual | xargs apt-mark auto > /dev/null; \t\t\tapt-mark manual $savedAptMark; \t\t\t\t\t\tls -lAFh; \t\t\t_update_repo; \t\t\tgrep '^Package: ' Packages; \t\t\tcd /; \t\t\t;; \tesac; \t\tapt-get install -y --no-install-recommends postgresql-common; \tsed -ri 's/#(create_main_cluster) .*$/\\1 = false/' /etc/postgresql-common/createcluster.conf; \tapt-get install -y --no-install-recommends \t\t\"postgresql-$PG_MAJOR=$PG_VERSION\" \t; \t\trm -rf /var/lib/apt/lists/*; \t\tif [ -n \"$tempDir\" ]; then \t\tapt-get purge -y --auto-remove; \t\trm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list; \tfi; \t\tfind /usr -name '*.pyc' -type f -exec bash -c 'for pyc; do dpkg -S \"$pyc\" &> /dev/null || rm -vf \"$pyc\"; done' -- '{}' +; \t\tpostgres --version",
          "system_commands": [
            "set -ex",
            "export PYTHONDONTWRITEBYTECODE=1",
            "dpkgArch=\"$(dpkg --print-architecture)\"",
            "aptRepo=\"[ signed-by=/usr/local/share/keyrings/postgres.gpg.asc ] http://apt.postgresql.org/pub/repos/apt/ bullseye-pgdg main $PG_MAJOR\"",
            "case \"$dpkgArch\" in amd64 | arm64 | ppc64el) echo \"deb $aptRepo\" > /etc/apt/sources.list.d/pgdg.list",
            "apt-get update",
            "",
            "",
            "*) echo \"deb-src $aptRepo\" > /etc/apt/sources.list.d/pgdg.list",
            "savedAptMark=\"$(apt-mark showmanual)\"",
            "tempDir=\"$(mktemp -d)\"",
            "cd \"$tempDir\"",
            "apt-get update",
            "apt-get install -y --no-install-recommends dpkg-dev",
            "echo \"deb [ trusted=yes ] file://$tempDir ./\" > /etc/apt/sources.list.d/temp.list",
            "_update_repo() { dpkg-scanpackages . > Packages",
            "apt-get -o Acquire::GzipIndexes=false update",
            "}",
            "_update_repo",
            "nproc=\"$(nproc)\"",
            "export DEB_BUILD_OPTIONS=\"nocheck parallel=$nproc\"",
            "apt-get build-dep -y postgresql-common pgdg-keyring",
            "apt-get source --compile postgresql-common pgdg-keyring",
            "_update_repo",
            "apt-get build-dep -y \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "apt-get source --compile \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "apt-mark showmanual | xargs apt-mark auto > /dev/null",
            "apt-mark manual $savedAptMark",
            "ls -lAFh",
            "_update_repo",
            "grep '^Package: ' Packages",
            "cd /",
            "",
            "",
            "esac",
            "apt-get install -y --no-install-recommends postgresql-common",
            "sed -ri 's/#(create_main_cluster) .*$/1 = false/' /etc/postgresql-common/createcluster.conf",
            "apt-get install -y --no-install-recommends \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "rm -rf /var/lib/apt/lists/*",
            "if [ -n \"$tempDir\" ]",
            "then apt-get purge -y --auto-remove",
            "rm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list",
            "fi",
            "find /usr -name '*.pyc' -type f -exec bash -c 'for pyc",
            "do dpkg -S \"$pyc\" &> /dev/null || rm -vf \"$pyc\"",
            "done' -- '{}' +",
            "postgres --version"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:27:28Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 58057,
          "size_human": "58 kB",
          "command_snippet": "RUN set -eux; \tdpkg-divert --add --rename --...",
          "command_all": "RUN set -eux; \tdpkg-divert --add --rename --divert \"/usr/share/postgresql/postgresql.conf.sample.dpkg\" \"/usr/share/postgresql/$PG_MAJOR/postgresql.conf.sample\"; \tcp -v /usr/share/postgresql/postgresql.conf.sample.dpkg /usr/share/postgresql/postgresql.conf.sample; \tln -sv ../postgresql.conf.sample \"/usr/share/postgresql/$PG_MAJOR/\"; \tsed -ri \"s!^#?(listen_addresses)\\s*=\\s*\\S+.*!\\1 = '*'!\" /usr/share/postgresql/postgresql.conf.sample; \tgrep -F \"listen_addresses = '*'\" /usr/share/postgresql/postgresql.conf.sample",
          "system_commands": [
            "set -eux",
            "dpkg-divert --add --rename --divert \"/usr/share/postgresql/postgresql.conf.sample.dpkg\" \"/usr/share/postgresql/$PG_MAJOR/postgresql.conf.sample\"",
            "cp -v /usr/share/postgresql/postgresql.conf.sample.dpkg /usr/share/postgresql/postgresql.conf.sample",
            "ln -sv ../postgresql.conf.sample \"/usr/share/postgresql/$PG_MAJOR/\"",
            "sed -ri \"s!^#?(listen_addresses)s*=s*S+.*!1 = '*'!\" /usr/share/postgresql/postgresql.conf.sample",
            "grep -F \"listen_addresses = '*'\" /usr/share/postgresql/postgresql.conf.sample"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:27:28Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN mkdir -p /var/run/postgresql && \\\n\tchown...",
          "command_all": "RUN mkdir -p /var/run/postgresql && \\\n\tchown -R postgres:postgres /var/run/postgresql && \\\n\tchmod 2777 /var/run/postgresql",
          "system_commands": [
            "mkdir -p /var/run/postgresql",
            "chown -R postgres:postgres /var/run/postgresql",
            "chmod 2777 /var/run/postgresql"
          ]
        },
        {
          "type": "ENV",
          "time": "2022-06-23T14:27:28Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PGDATA=/var/lib/postgresql/data",
          "command_snippet": "ENV PGDATA=/var/lib/postgresql/data",
          "command_all": "ENV PGDATA=/var/lib/postgresql/data"
        },
        {
          "type": "RUN",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN mkdir -p \"$PGDATA\" && \\\n\tchown -R postgr...",
          "command_all": "RUN mkdir -p \"$PGDATA\" && \\\n\tchown -R postgres:postgres \"$PGDATA\" && \\\n\tchmod 777 \"$PGDATA\"",
          "system_commands": [
            "mkdir -p \"$PGDATA\"",
            "chown -R postgres:postgres \"$PGDATA\"",
            "chmod 777 \"$PGDATA\""
          ]
        },
        {
          "type": "VOLUME",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[/var/lib/postgresql/data]",
          "command_snippet": "VOLUME [/var/lib/postgresql/data]",
          "command_all": "VOLUME [/var/lib/postgresql/data]"
        },
        {
          "type": "COPY",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 12127,
          "size_human": "12 kB",
          "params": "file:925d466681c8349f58385c00a8caa567c76b695158aa04bf4ad2ac92604e11c7 in /usr/local/bin/",
          "command_snippet": "COPY file:925d466681c8349f58385c00a8caa567c7...",
          "command_all": "COPY file:925d466681c8349f58385c00a8caa567c76b695158aa04bf4ad2ac92604e11c7 /usr/local/bin/",
          "target": "/usr/local/bin/",
          "source_type": "file"
        },
        {
          "type": "ENTRYPOINT",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"docker-entrypoint.sh\"]\n",
          "command_snippet": "ENTRYPOINT [\"docker-entrypoint.sh\"]\n",
          "command_all": "ENTRYPOINT [\"docker-entrypoint.sh\"]\n"
        },
        {
          "type": "STOPSIGNAL",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "SIGINT",
          "command_snippet": "STOPSIGNAL SIGINT",
          "command_all": "STOPSIGNAL SIGINT"
        },
        {
          "type": "EXPOSE",
          "time": "2022-06-23T14:27:29Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "5432",
          "command_snippet": "EXPOSE 5432",
          "command_all": "EXPOSE 5432"
        },
        {
          "type": "CMD",
          "time": "2022-06-23T14:27:29Z",
          "is_last_instruction": true,
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": true,
          "layer_index": 0,
          "size": 0,
          "params": "[\"postgres\"]\n",
          "command_snippet": "CMD [\"postgres\"]\n",
          "command_all": "CMD [\"postgres\"]\n",
          "raw_tags": [
            "postgres:14.4"
          ]
        }
      ]
    },
    {
      "is_top_image": true,
      "id": "sha256:7520748d6e745d6d73ab62c461c945054ed79224fb811afccbf6b796c7642c9e",
      "full_name": "docker-slim-tmp-fat-image.61351.20220707133812:latest",
      "repo_name": "docker-slim-tmp-fat-image.61351.20220707133812",
      "version_tag": "latest",
      "raw_tags": [
        "docker-slim-tmp-fat-image.61351.20220707133812:latest"
      ],
      "create_time": "2022-07-07T13:38:48Z",
      "new_size": 12700396,
      "new_size_human": "13 MB",
      "base_image_id": "sha256:b2261d3c6ce0b23bed32e7567a92646b880de73d802550b1275baa0997aa34d0",
      "instructions": [
        {
          "type": "ARG",
          "time": "2022-07-07T13:38:13Z",
          "is_nop": true,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:d6df3e8ca8f8c0028efe77d74e53d5b092ad7bb20db7d2d0792ecbba2e1c1f49",
          "layer_index": 0,
          "size": 0,
          "params": "VERSION=11.0.3",
          "command_snippet": "ARG VERSION=11.0.3",
          "command_all": "ARG VERSION=11.0.3"
        },
        {
          "type": "LABEL",
          "time": "2022-07-07T13:38:13Z",
          "is_nop": true,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:9d8a9d983c41fa7c6631a7598ad76c0e2b72cc7e7aaee885e08481f6520ece9a",
          "layer_index": 0,
          "size": 0,
          "params": "maintainer=Citus Data https://citusdata.com org.label-schema.name=Citus org.label-schema.description=Scalable PostgreSQL for multi-tenant and real-time workloads org.label-schema.url=https://www.citusdata.com org.label-schema.vcs-url=https://github.com/citusdata/citus org.label-schema.vendor=Citus Data, Inc. org.label-schema.version=11.0.3 org.label-schema.schema-version=1.0",
          "command_snippet": "LABEL maintainer=Citus Data https://citusdat...",
          "command_all": "LABEL maintainer=Citus Data https://citusdata.com org.label-schema.name=Citus org.label-schema.description=Scalable PostgreSQL for multi-tenant and real-time workloads org.label-schema.url=https://www.citusdata.com org.label-schema.vcs-url=https://github.com/citusdata/citus org.label-schema.vendor=Citus Data, Inc. org.label-schema.version=11.0.3 org.label-schema.schema-version=1.0"
        },
        {
          "type": "ENV",
          "time": "2022-07-07T13:38:13Z",
          "is_nop": true,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:a84b02413263c6d3380a228efa2ed34b6a7fd9f33e8c81ecbc91614d7b1a8444",
          "layer_index": 0,
          "size": 0,
          "params": "CITUS_VERSION=11.0.3.citus-1",
          "command_snippet": "ENV CITUS_VERSION=11.0.3.citus-1",
          "command_all": "ENV CITUS_VERSION=11.0.3.citus-1"
        },
        {
          "type": "RUN",
          "time": "2022-07-07T13:38:45Z",
          "is_nop": false,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:78e1622d9617e3183e8b87c0db0f03d136514130ac2efd2f0a776aa45bddb71f",
          "layer_index": 0,
          "size": 12658419,
          "size_human": "13 MB",
          "command_snippet": "RUN apt-get update && apt-get install -y --n...",
          "command_all": "RUN apt-get update && apt-get install -y --no-install-recommends ca-certificates curl && curl -s https://install.citusdata.com/community/deb.sh | bash && apt-get install -y postgresql-$PG_MAJOR-citus-11.0=$CITUS_VERSION postgresql-$PG_MAJOR-hll=2.16.citus-1 postgresql-$PG_MAJOR-topn=2.4.0 && apt-get purge -y --auto-remove curl && rm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "apt-get update",
            "apt-get install -y --no-install-recommends ca-certificates curl",
            "curl -s https://install.citusdata.com/community/deb.sh | bash",
            "apt-get install -y postgresql-$PG_MAJOR-citus-11.0=$CITUS_VERSION postgresql-$PG_MAJOR-hll=2.16.citus-1 postgresql-$PG_MAJOR-topn=2.4.0",
            "apt-get purge -y --auto-remove curl",
            "rm -rf /var/lib/apt/lists/*"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-07-07T13:38:46Z",
          "is_nop": false,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:3db96ca4dfb2d40c47b60afc48a5b10753040067453a7e80d08c79f0295ccd7b",
          "layer_index": 0,
          "size": 28812,
          "size_human": "29 kB",
          "command_snippet": "RUN echo shared_preload_libraries='citus' >>...",
          "command_all": "RUN echo shared_preload_libraries='citus' >> /usr/share/postgresql/postgresql.conf.sample",
          "system_commands": [
            "echo shared_preload_libraries='citus' >> /usr/share/postgresql/postgresql.conf.sample"
          ]
        },
        {
          "type": "COPY",
          "time": "2022-07-07T13:38:46Z",
          "is_nop": true,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:d7a53d3d711b8f3b275bf0146fe0812bd3f02dcd0d5346e34dbb59d95487bf3a",
          "layer_index": 0,
          "size": 222,
          "size_human": "222 B",
          "params": "file:f2618165ec2c5319f5bbd9c279894f9c809ea8fc5404cb01feeb555dcba7f777 in /docker-entrypoint-initdb.d/",
          "command_snippet": "COPY file:f2618165ec2c5319f5bbd9c279894f9c80...",
          "command_all": "COPY file:f2618165ec2c5319f5bbd9c279894f9c809ea8fc5404cb01feeb555dcba7f777 /docker-entrypoint-initdb.d/",
          "target": "/docker-entrypoint-initdb.d/",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2022-07-07T13:38:47Z",
          "is_nop": true,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:679b9a5ab3da85cc0383e7ef1982ec18a3bc2959694a5e90f0612ee7b9e09e76",
          "layer_index": 0,
          "size": 574,
          "size_human": "574 B",
          "params": "multi:2c220d29c2ffdc36454907b33f981976d60b81f134f2cef71bdf415b6bc8a1bc in /",
          "command_snippet": "COPY multi:2c220d29c2ffdc36454907b33f981976d...",
          "command_all": "COPY multi:2c220d29c2ffdc36454907b33f981976d60b81f134f2cef71bdf415b6bc8a1bc /",
          "target": "/",
          "source_type": "multi"
        },
        {
          "type": "RUN",
          "time": "2022-07-07T13:38:47Z",
          "is_nop": false,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:2a223bc9fd16848af2bf45d78d7dc36446d97a5724387ce0144ae20d62bc7b3e",
          "layer_index": 0,
          "size": 262,
          "size_human": "262 B",
          "command_snippet": "RUN chmod +x /wait-for-manager.sh",
          "command_all": "RUN chmod +x /wait-for-manager.sh",
          "system_commands": [
            "chmod +x /wait-for-manager.sh"
          ]
        },
        {
          "type": "RUN",
          "time": "2022-07-07T13:38:48Z",
          "is_nop": false,
          "local_image_exists": true,
          "intermediate_image_id": "sha256:0ca011fa6df98dd4c446001a3c20a00dcd22997651115e9c71c3b18e0ac222e5",
          "layer_index": 0,
          "size": 12107,
          "size_human": "12 kB",
          "command_snippet": "RUN sed /unset PGPASSWORD/d -i /usr/local/bi...",
          "command_all": "RUN sed /unset PGPASSWORD/d -i /usr/local/bin/docker-entrypoint.sh",
          "system_commands": [
            "sed /unset PGPASSWORD/d -i /usr/local/bin/docker-entrypoint.sh"
          ]
        },
        {
          "type": "HEALTHCHECK",
          "time": "2022-07-07T13:38:48Z",
          "is_last_instruction": true,
          "is_nop": true,
          "local_image_exists": true,
          "layer_index": 0,
          "size": 0,
          "params": "&{[\"CMD-SHELL\" \"./pg_healthcheck\"] \"4s\" \"0s\" \"6s\" '\\x00'}",
          "command_snippet": "",
          "command_all": "",
          "raw_tags": [
            "docker-slim-tmp-fat-image.61351.20220707133812:latest"
          ]
        }
      ]
    }
  ]
}
